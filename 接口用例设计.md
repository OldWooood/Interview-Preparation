## 一、前期准备

1. **明确接口文档**：包括接口路径、请求方法（GET/POST/PUT/DELETE）、入参、出参、鉴权方式。
2. **理解业务逻辑**：接口的核心作用是什么？比如是下单、支付、查询？
3. **依赖分析**：接口是否依赖其他服务或上下游数据？

---

## 二、用例设计思路

### 1. **功能类用例**

* **正常流程**：输入正确参数，返回正确结果。
* **边界值**：参数边界（最大值、最小值、超长字符串等）。
* **必填参数缺失**：逐个删除必填字段，验证接口报错是否正确。
* **非法参数**：如负数、特殊字符、超大数据、格式错误。
* **参数组合**：某些参数必须一起出现或互斥。
* **顺序依赖**：接口调用是否必须有先后顺序（如先登录再下单）。

### 2. **异常类用例**

* **未授权/未登录**：不带 Token 或带无效 Token 调用。
* **权限不足**：低权限用户访问高权限接口。
* **数据不存在**：请求一个不存在的 ID。
* **重复提交**：接口是否能防止重复操作（例如支付两次）。

### 3. **性能与健壮性**

* **并发请求**：接口能否承受高并发。
* **超时/重试**：服务端处理慢时是否超时、客户端是否重试。
* **大数据量**：一次请求返回的数据是否过大，分页是否正常。

### 4. **安全性**

* **SQL 注入/XSS**：输入恶意脚本或 SQL。
* **越权访问**：修改别人账号的数据。
* **数据泄露**：返回内容是否有敏感信息（密码、密钥）。

---

## 三、输出内容（用例模板）

建议用表格管理，常见字段：

| 用例ID  | 接口名称 | 场景描述   | 输入参数                               | 预期结果                       | 备注   |
| ----- | ---- | ------ | ---------------------------------- | -------------------------- | ---- |
| TC001 | 登录接口 | 正常登录   | {username:"张三", password:"123456"} | 返回 code=200，token 有效       | 正常场景 |
| TC002 | 登录接口 | 缺少必填字段 | {username:"张三"}                    | 返回 code=400，提示 password 缺失 | 异常场景 |

---

## 四、技巧

* **分层设计**：先验证单接口，再做接口间组合场景。
* **自动化覆盖**：高频、核心、容易出错的接口优先写自动化脚本。
* **数据准备**：接口测试经常依赖测试数据，要考虑数据的生成、清理。

---


## 五、接口测试用例设计检查清单 ✅

### 1. 基础功能验证

* [ ] 接口是否能正常访问（路径、方法是否正确）
* [ ] 输入合法参数，返回结果是否正确（业务逻辑正确）
* [ ] 返回字段是否完整、类型正确、顺序和文档一致
* [ ] 返回状态码是否符合规范（200/400/401/403/500 等）

---

### 2. 参数相关

* [ ] **必填参数**：缺失时是否正确提示
* [ ] **可选参数**：缺失时是否使用默认值
* [ ] **边界值**：最大值、最小值、超长字符串、特殊字符
* [ ] **非法值**：类型错误、格式错误（如手机号填字母）
* [ ] **参数组合**：互斥参数/依赖参数是否校验
* [ ] **重复提交**：相同请求多次发送，接口是否有防重处理

---

### 3. 鉴权与权限

* [ ] 不带 Token 访问，是否返回未授权
* [ ] Token 过期或错误，是否正确提示
* [ ] 低权限用户是否能访问高权限接口
* [ ] 用户是否能访问非本人数据（越权测试）

---

### 4. 数据相关

* [ ] 查询不存在的数据 ID，返回结果是否合理
* [ ] 数据重复创建是否允许/禁止
* [ ] 删除接口是否真的删除，查询是否为空
* [ ] 修改后数据是否正确更新
* [ ] 接口对历史数据是否兼容（老数据结构）

---

### 5. 性能与稳定性

* [ ] 高并发下是否能正确响应
* [ ] 单次请求返回数据量过大时是否分页
* [ ] 接口响应时间是否在 SLA 范围内
* [ ] 服务端慢处理是否会超时，客户端是否能重试

---

### 6. 安全性

* [ ] SQL 注入测试（输入 `' OR 1=1 --` 等）
* [ ] XSS 测试（输入 `<script>alert(1)</script>`）
* [ ] 敏感信息（密码、Token、手机号等）是否泄露在响应里
* [ ] HTTPS 是否强制启用（避免明文传输）

---

### 7. 兼容性与规范性

* [ ] 请求头（Content-Type、Accept）是否被校验
* [ ] 响应格式是否统一（统一返回 code、message、data）
* [ ] 错误信息是否规范（不要返回堆栈信息）
* [ ] 是否兼容不同版本（老版本客户端还能用吗）
